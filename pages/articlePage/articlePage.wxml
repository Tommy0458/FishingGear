<!-- pages/articlePage/articlePage.wxml -->
<page-meta>
  <!-- 自定义导航栏 -->
  <navigation-bar title="钓鱼技巧文章" background="#1E3A8A" color="#ffffff" back="{{false}}"></navigation-bar>
</page-meta>

<view class="container">
    <!-- 页面标题 -->
    <view class="header">
        <text class="title">钓鱼技巧文章</text>
        <text class="subtitle">精选钓鱼技巧与知识</text>
    </view>
    <view class="search-box">
        <view class="search-bar bordered">
            <view class="search-icon">🔍</view>
            <input type="text" placeholder="搜索你感兴趣的内容" bindinput="onSearchInput" value="{{searchKeyword}}" class="search-input" />
            <button bindtap="onSearch" class="search-btn">搜索</button>
        </view>
    </view>
    <!-- 文章列表 -->
    <scroll-view scroll-y="true" class="article-list">
        <block wx:if="{{loading}}">
            <view class="loading">加载中...</view>
        </block>
        
        <block wx:elif="{{showNoResults}}">
            <view class="no-results">
                <text>没有相关文章</text>
            </view>
        </block>
        
        <block wx:elif="{{articles.length === 0}}">
            <view class="no-data">
                <text>暂无文章数据</text>
            </view>
        </block>
        
        <block wx:else>
            <view wx:for="{{articles}}" wx:key="id" class="article-card" hover-class="article-card-hover" bindtap="navigateToArticleDetail" data-id="{{item.id}}">
                <view class="article-content">
                    <rich-text class="article-title" nodes="{{highlightedArticles[index].titleNodes}}"></rich-text>
                    <view class="article-meta">
                        <text class="article-author">{{item.meta.author}}</text>
                        <text class="article-date">{{item.meta.publishDate}}</text>
                    </view>
                    <rich-text class="article-preview" nodes="{{highlightedArticles[index].previewNodes}}"></rich-text>
                </view>
            </view>
        </block>
    </scroll-view>
    
    <!-- 浮动主页按钮 -->
    <view class="float-home-btn" hover-class="float-btn-hover" bindtap="navigateToHome">
        <text class="home-btn-text">主页</text>
    </view>
</view>