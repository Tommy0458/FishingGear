<!-- pages/articlePage/articlePage.wxml -->
<page-meta>
  <!-- è‡ªå®šä¹‰å¯¼èˆªæ  -->
  <navigation-bar title="é’“é±¼æŠ€å·§æ–‡ç« " background="#1E3A8A" color="#ffffff" back="{{false}}"></navigation-bar>
</page-meta>

<view class="container">
    <!-- é¡µé¢æ ‡é¢˜ -->
    <view class="header">
        <text class="title">é’“é±¼æŠ€å·§æ–‡ç« </text>
        <text class="subtitle">ç²¾é€‰é’“é±¼æŠ€å·§ä¸çŸ¥è¯†</text>
    </view>
    <view class="search-box">
        <view class="search-bar bordered">
            <view class="search-icon">ğŸ”</view>
            <input type="text" placeholder="æœç´¢ä½ æ„Ÿå…´è¶£çš„å†…å®¹" bindinput="onSearchInput" value="{{searchKeyword}}" class="search-input" />
            <button bindtap="onSearch" class="search-btn">æœç´¢</button>
        </view>
    </view>
    <!-- æ–‡ç« åˆ—è¡¨ -->
    <scroll-view scroll-y="true" class="article-list">
        <block wx:if="{{loading}}">
            <view class="loading">åŠ è½½ä¸­...</view>
        </block>
        
        <block wx:elif="{{showNoResults}}">
            <view class="no-results">
                <text>æ²¡æœ‰ç›¸å…³æ–‡ç« </text>
            </view>
        </block>
        
        <block wx:elif="{{articles.length === 0}}">
            <view class="no-data">
                <text>æš‚æ— æ–‡ç« æ•°æ®</text>
            </view>
        </block>
        
        <block wx:else>
            <view wx:for="{{articles}}" wx:key="id" class="article-card" hover-class="article-card-hover" bindtap="navigateToArticleDetail" data-id="{{item.id}}">
                <view class="article-content">
                    <rich-text class="article-title" nodes="{{highlightedArticles[index].titleNodes}}"></rich-text>
                    <view class="article-meta">
                        <text class="article-author">{{item.meta.author}}</text>
                        <text class="article-date">{{item.meta.publishDate}}</text>
                    </view>
                    <rich-text class="article-preview" nodes="{{highlightedArticles[index].previewNodes}}"></rich-text>
                </view>
            </view>
        </block>
    </scroll-view>
    
    <!-- æµ®åŠ¨ä¸»é¡µæŒ‰é’® -->
    <view class="float-home-btn" hover-class="float-btn-hover" bindtap="navigateToHome">
        <text class="home-btn-text">ä¸»é¡µ</text>
    </view>
</view>